     1                                  org 0
     2                                  cpu 8086
     3                                  
     4                                  RED   equ 0xf000
     5                                  GREEN equ 0x1c00
     6                                  BLUE  equ 0xf400
     7                                  COLS  equ 72
     8                                  
     9                                  ROM equ 0xFE00
    10                                  FONT equ 0xFF00
    11                                  
    12                                  LINES_PER_ROW equ 4
    13                                  COLS_PER_ROW equ 72
    14                                  
    15 00000000 EB1B                    jmp setup
    16                                  
    17 00000002 53616E796F312E3202-     db 'Sanyo1.2',2,0,1,0,0,2,112,0,0,0,2,0,253,2,0,9,0,2,0
    17 0000000B 000100000270000000-
    17 00000014 0200FD020009000200 
    18                                  
    19                                  ; row: db 0
    20                                  ; col: db 0
    21                                  
    22                                  setup:
    23 0000001D E83D00                    call clear_green_channel
    24 00000020 B005                      mov al,5
    25 00000022 E610                      out 0x10,al
    26                                  
    27 00000024 0E                        push cs
    28 00000025 1F                        pop ds      ; ds=cs
    29                                  
    30 00000026 BE[6C00]                  mov si, img
    31 00000029 B704                      mov bh,4 ; cols 
    32 0000002B B304                      mov bl,4 ; rows
    33 0000002D E80100                    call draw_pic
    34                                  
    35 00000030 F4                        hlt
    36                                  
    37                                  draw_pic:
    38 00000031 B800F0                    mov ax, RED
    39 00000034 E80D00                    call draw_channel
    40 00000037 B8001C                    mov ax, GREEN
    41 0000003A E80700                    call draw_channel
    42 0000003D B800F4                    mov ax, BLUE
    43 00000040 E80100                    call draw_channel
    44 00000043 C3                        ret
    45                                  draw_channel:
    46 00000044 8EC0                      mov es,ax
    47 00000046 31FF                      xor di,di
    48 00000048 31C9                      xor cx,cx
    49 0000004A 88D9                      mov cl,bl        ; rows (bl)
    50                                  rows_loop:
    51 0000004C 51                        push cx
    52 0000004D 31C9                      xor cx,cx
    53 0000004F 88F9                      mov cl,bh        ; cols (bh)
    54                                  cols_loop:
    55 00000051 A5                        movsw
    56 00000052 A5                        movsw
    57 00000053 E2FC                      loop cols_loop
    58 00000055 81C71001                  add di,COLS*4 - 4*4
    59 00000059 59                        pop cx
    60 0000005A E2F0                      loop rows_loop
    61 0000005C C3                        ret
    62                                  
    63                                  clear_green_channel:
    64 0000005D B8001C                    mov ax,GREEN
    65 00000060 8EC0                      mov es,ax
    66 00000062 31FF                      xor di,di
    67 00000064 B90020                    mov cx,0x2000
    68 00000067 31C0                      xor ax,ax
    69 00000069 F3AB                      rep stosw
    70 0000006B C3                        ret
    71                                  
    72                                  img: 
    73 0000006C 00707F70FFFFFFFFF5-       db 0,112,127,112,255,255,255,255,245,250,253,250,0,14,254,14
    73 00000075 FAFDFA000EFE0E     
    74 0000007C 381C0700FF7FFFFFFD-       db 56,28,7,0,255,127,255,255,253,250,245,255,28,56,224,0
    74 00000085 FAF5FF1C38E000     
    75 0000008C 000000000F030303F0-       db 0,0,0,0,15,3,3,3,240,192,192,128,0,0,0,0
    75 00000095 C0C08000000000     
    76 0000009C 0000000003073F7FC0-       db 0,0,0,0,3,7,63,127,192,176,212,234,0,0,0,0
    76 000000A5 B0D4EA00000000     
    77 000000AC 00607560FFFFFFFFA0-       db 0,96,117,96,255,255,255,255,160,208,232,208,0,4,234,4
    77 000000B5 D0E8D00004EA04     
    78 000000BC 30180700FF7F7FBFE8-       db 48,24,7,0,255,127,127,191,232,208,224,215,8,16,224,0
    78 000000C5 D0E0D70810E000     
    79 000000CC 000000000F030303A0-       db 0,0,0,0,15,3,3,3,160,192,128,128,0,0,0,0
    79 000000D5 C0808000000000     
    80 000000DC 0000000003073F7F80-       db 0,0,0,0,3,7,63,127,128,144,196,226,0,0,0,0
    80 000000E5 90C4E200000000     
    81 000000EC 000000000000000000-       db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    81 000000F5 00000000000000     
    82 000000FC 000000000000000000-       db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    82 00000105 00000000000000     
    83 0000010C 000000000000000000-       db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    83 00000115 00000000000000     
    84 0000011C 000000000000000000-       db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    84 00000125 00000000000000     
    85                                  
    86                                    
    87                                  %assign num $-$$
    88                                  %warning num
    88          ******************       warning: 300 [-w+user]
    89                                  
    90 0000012C 00<rep 59ED4h>          times 368640-num db  0
